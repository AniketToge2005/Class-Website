<%- include("Navbar.ejs") %>

<div class="container py-5">
  <!-- Banner -->
  <div class="row border rounded-3 p-3">
    <div class="col-md-12">
      <div class="banner d-flex align-items-center rounded-3 bg-primary">
        <h3 class="text-white px-3 ">Add About Section</h3>
        <div class="stripes "></div>
      </div>
    </div>
  </div>

  <!-- Form Section -->
  <form action="/admin/save_about" method="POST" enctype="multipart/form-data" class="mt-4">
    <div class="row border rounded-3 p-4">
      <!-- Title -->
      <div class="col-md-4 mt-3">
        <label for="title" class="form-label">Title</label>
        <input type="text" class="form-control" id="title" name="title" placeholder="Enter main title" required>
      </div>

      <!-- Subtitle -->
      <div class="col-md-4 mt-3">
        <label for="subtitle" class="form-label">Subtitle</label>
        <input type="text" class="form-control" id="subtitle" name="subtitle" placeholder="Enter subtitle" required>
      </div>

      <!-- Description -->
      <div class="col-md-4 mt-3">
        <label for="description" class="form-label">Description</label>
        <textarea class="form-control" id="description" name="description" rows="4" placeholder="Enter detailed description" required></textarea>
      </div>

      <!-- Image Upload -->
      <div class="col-md-4 mt-3">
        <label for="image" class="form-label">Upload Image</label>
        <input type="file" class="form-control" id="image" name="image" accept="image/*" required>
      </div>

      <!-- Submit -->
      <div class="col-12 text-center mt-4">
        <button type="submit" class="btn btn-primary px-4">Save Information</button>
      </div>
    </div>
  </form>

  <!-- About Table Section -->
  <div class="row mt-5">
    <div class="col-12 d-flex justify-content-between align-items-center mb-3">
      <h3>About List</h3>
    </div>

    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle text-center">
        <thead class="table-light">
          <tr>
            <th>Action</th>
            <th>Sr.No</th>
            <th>Title</th>
            <th>Subtitle</th>
            <th>Description</th>
            <th>Image</th>
          </tr>
        </thead>
        <tbody>
          <% for (var i = 0; i < about.length; i++) { %>
            <tr>
              <td>
                <a href="/admin/edit_about/<%=about[i].id %>">
                  <button class="btn btn-sm btn-primary"><i class="fa fa-edit"></i></button>
                </a>
                <a href="/admin/delete_about/<%=about[i].id %>" onclick="return confirm('Are you sure you want to delete this item?')">
                  <button class="btn btn-sm btn-danger"><i class="fa fa-trash"></i></button>
                </a>
              </td>
              <td><%= i + 1 %></td>
              <td><%= about[i].title %></td>
              <td><%= about[i].subtitle %></td>
              <td style="word-wrap: break-word; max-width: 250px;"><%= about[i].description %></td>
              <td>
                <% if (about[i].image) { %>
                  <img src="/uplaod/<%=about[i].image %>" style="width: 100px; height: 60px; object-fit: cover;" />
                <% } else { %>
                  <span>No Image</span>
                <% } %>
              </td>
            </tr>
          <% } %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<%- include("Footer.ejs") %>
