<%-include("Navbar.ejs")%>

<div class="container bg-white p-4 mt-4 rounded shadow-sm">

     <div class="row mb-4">
      <div class="col-md-12">
            <div class="banner d-flex align-items-center rounded-3">
            <h3 class="text-white px-3"> Students <i class="fa-solid fa-chevron-right"></i> Student List </h3>
            <div class="stripes"></div>
           </div>
      </div>

    </div>

  <div class="container mb-5">
    <div class="row">
    
    <!-- Add Notice Form -->
    <div class="col-md-5 mb-4">
      <div class="notice-form-card card border-primary">
        <div style="background-color: #373573;" class="notice-form-header card-header  text-white">
          <h5 class="notice-form-title mb-0"><i class="fas fa-plus-circle me-2"></i>Add New Notice</h5>
        </div>
        <div class="notice-form-body card-body">
          <form action="/admin/upload_notice" method="POST">
            <div class="notice-form-group mb-3">
              <label class="notice-form-label">Notice Title</label>
              <input class="notice-form-input form-control" type="text" name="title" required>
            </div>
            <div class="notice-form-group mb-3">
              <label class="notice-form-label">Notice Date</label>
              <input class="notice-form-input form-control" type="date" name="date" required>
            </div>
            <div class="notice-form-group mb-3">
              <label class="notice-form-label">Notice Information</label>
              <textarea class="notice-form-textarea form-control" name="info" rows="4" required></textarea>
            </div>
            <div class="notice-form-group mb-3">
              <label class="notice-form-label">Notice Sender</label>
              <input class="notice-form-input form-control" type="text" name="sender" required>
            </div>
            <div class="notice-form-submit-col col-md-12 text-center">
            <button style="background-color: #373573; " type="submit" class="notice-submit-btn btn text-white">
              <i class="fas fa-paper-plane me-2"></i>Publish Notice
            </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- notices List -->
    <div class="col-md-7">
      <div  class="card">
        <div style="background-color: #373573;" class="card-header  text-center text-white ">
          <h5 class="notice-list-title mb-0"><i class="fas fa-list me-2"></i>Published notices</h5>
        </div>
        <div class="notice-list-body card-body p-0">
          <% if (notices && notices.length > 0) { %>
            <div class="notice-list-group list-group list-group-flush">
              <% notices.forEach(notice => { %>
                <div class="notice-list-item list-group-item">
                  <div class="notice-item-header d-flex w-100 justify-content-between">
                    <h5 class="notice-item-title mb-1 text-primary"> Title : <%= notice.title %></h5>
                    <small class="notice-item-date text-muted"><b>Date :</b>  <%= new Date(notice.date).toLocaleDateString() %></small>
                  </div>
                  <p class="notice-item-content mb-1"><b>Nitice :</b><%= notice.info %></p>
                  <small class="notice-item-sender text-muted"><b>Posted by:</b> <%= notice.sender %></small>
                  <button class="btn btn-danger float-end"><a href="/admin/notice_delete/<%=notice.notice_id%>"><i class="fa-solid fa-delete-left text-dark"></i></a></button>
                </div>
              <% }); %>
            </div>
          <% } else { %>
            <div class="notice-empty-state text-center py-4">
              <i class="notice-empty-icon fas fa-inbox fa-3x text-muted mb-3"></i>
              <p class="notice-empty-text text-muted">No notices available yet</p>
            </div>
          <% } %>
        </div>
      </div>
    </div>
  </div>
  </div>
</div>

<style>
  .notice-banner {
    background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
    position: relative;
    overflow: hidden;
  }
  
  .notice-banner-stripes {
    position: absolute;
    right: 0;
    width: 30%;
    height: 100%;
    background: repeating-linear-gradient(
      45deg,
      rgba(255,255,255,0.1),
      rgba(255,255,255,0.1) 10px,
      rgba(255,255,255,0.15) 10px,
      rgba(255,255,255,0.15) 20px
    );
  }
  
  .notice-list-item {
    transition: all 0.3s ease;
  }
  
  .notice-list-item:hover {
    background-color: #f8f9fa;
  }
</style>

<%-include("Footer.ejs")%>